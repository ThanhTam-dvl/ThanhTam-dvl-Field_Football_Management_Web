📋 TÓM TẮT DỰ ÁN WEBSITE QUẢN LÝ SÂN BÓNG (SAU REFACTOR)
🎯 MỤC TIÊU DỰ ÁN
Website đặt sân bóng và quản lý sân bóng với 2 phía:

Khách hàng: Đặt sân, tìm kèo, ghép đội
Admin: Quản lý sân, duyệt booking, thống kê doanh thu

🛠 CÔNG NGHỆ

Backend: Node.js + Express + MySQL
Frontend: React + Vite + CSS vanilla
Auth: OTP cho customer, Session-based cho admin
Libraries: axios, react-router-dom, nodemailer, fontawesome


🗄️ DATABASE SCHEMA (MySQL)
Database: football_field_management
12 bảng chính:

users - Người dùng (customer), phone_number unique, OTP auth
admins - Admin users với session-based auth, permissions JSON
admin_sessions - Session management cho admin
fields - Sân bóng (5vs5/7vs7/11vs11), price_per_hour, facilities JSON
bookings - Đặt sân, có start_time/end_time, status
booking_services - Dịch vụ kèm theo booking
services - Kho đồ uống/thức ăn/thiết bị, có stock
maintenance_schedules - Lịch bảo trì sân
matches - Kèo bóng đá, có allow_join cho ghép đội
match_participants - Người tham gia kèo
team_join_posts - Đăng tin ghép đội
otp_codes - Mã OTP có thời gian hết hạn


📋 FOOTBALL FIELD MANAGEMENT - CẤU TRÚC DỰ ÁN (SAU KHI TÍCH HỢP MAINTENANCE)
football-field-management/
├── 📁 backend/                           # SERVER-SIDE APPLICATION
│   ├── 📁 config/
│   │   └── 📄 db.js                      # MySQL connection setup
│   │
│   ├── 📁 controllers/                   # 🔄 BUSINESS LOGIC LAYER
│   │   ├── 📁 admin/                     # 🔐 ADMIN CONTROLLERS
│   │   │   ├── 📄 dashboardController.js # Dashboard stats & recent bookings
│   │   │   ├── 📄 bookingController.js   # Booking CRUD, filters, manual booking
│   │   │   ├── 📄 customerController.js  # Customer CRUD, stats, bulk actions
│   │   │   ├── 📄 fieldController.js     # Field CRUD với booking timeline
│   │   │   ├── 📄 revenueController.js   # Revenue reports & analytics
│   │   │   ├── 📄 inventoryController.js # Inventory management
│   │   │   └── 🆕 maintenanceController.js # ✨ MAINTENANCE MANAGEMENT
│   │   │
│   │   ├── 📄 authController.js          # Customer OTP authentication
│   │   ├── 📄 adminAuthController.js     # Admin session management
│   │   ├── 📄 fieldController.js         # Customer field APIs
│   │   ├── 📄 bookingController.js       # Customer booking APIs
│   │   ├── 📄 matchController.js         # Match/kèo CRUD APIs
│   │   ├── 📄 serviceController.js       # Services APIs
│   │   ├── 📄 maintenanceController.js   # Customer maintenance APIs
│   │   ├── 📄 userController.js          # Customer user management
│   │   ├── 📄 teamJoinController.js      # Team join posts
│   │   └── 📄 contactController.js       # Contact form
│   │
│   ├── 📁 models/                        # 💾 DATABASE INTERACTION LAYER
│   │   ├── 📄 Admin.js                   # Admin CRUD, sessions, dashboard stats
│   │   ├── 📄 Field.js                   # Field logic, availability checking
│   │   ├── 📄 Booking.js                 # Booking operations
│   │   ├── 📄 Match.js                   # Match CRUD với filtering
│   │   ├── 📄 MatchParticipant.js        # Join/leave matches
│   │   ├── 📄 Service.js                 # Services by category
│   │   ├── 🔄 Maintenance.js             # ✨ UPDATED - CRUD maintenance + admin methods
│   │   ├── 📄 User.js                    # User CRUD, createIfNotExist
│   │   ├── 📄 TeamJoin.js                # Team join posts với filtering
│   │   ├── 📄 Otp.js                     # OTP verification logic
│   │   ├── 📄 Product.js                 # Product management
│   │   └── 📄 StockTransaction.js        # Stock transactions
│   │
│   ├── 📁 middlewares/                   # 🛡️ MIDDLEWARE LAYER
│   │   ├── 📄 adminAuth.js               # Admin authentication & permissions
│   │   ├── 📄 authMiddleware.js          # Customer authentication
│   │   ├── 📄 errorMiddleware.js         # Error handling
│   │   └── 📄 validate.js                # Input validation
│   │
│   ├── 📁 routes/                        # 🛣️ API ROUTING LAYER
│   │   ├── 📁 admin/                     # 🔐 ADMIN ROUTES
│   │   │   ├── 🔄 index.js               # ✨ UPDATED - Main admin router + maintenance
│   │   │   ├── 📄 authRoutes.js          # Admin auth endpoints
│   │   │   ├── 📄 dashboardRoutes.js     # Dashboard endpoints
│   │   │   ├── 📄 bookingRoutes.js       # Booking management APIs
│   │   │   ├── 📄 customerRoutes.js      # Customer management APIs
│   │   │   ├── 📄 fieldRoutes.js         # Field management APIs
│   │   │   ├── 📄 revenueRoutes.js       # Revenue reporting APIs
│   │   │   ├── 📄 inventoryRoutes.js     # Inventory management APIs
│   │   │   └── 🆕 maintenanceRoutes.js   # ✨ MAINTENANCE MANAGEMENT ROUTES
│   │   │
│   │   ├── 📄 authRoutes.js              # Customer authentication
│   │   ├── 📄 adminRoutes.js             # Points to admin/ routes
│   │   ├── 📄 fieldRoutes.js             # Customer field routes
│   │   ├── 📄 bookingRoutes.js           # Customer booking routes
│   │   ├── 📄 matchRoutes.js             # Match/kèo routes
│   │   ├── 📄 serviceRoutes.js           # Services routes
│   │   ├── 📄 maintenanceRoutes.js       # Customer maintenance routes
│   │   ├── 📄 userRoutes.js              # Customer user routes
│   │   ├── 📄 teamJoinRoutes.js          # Team join routes
│   │   └── 📄 contactRoutes.js           # Contact routes
│   │
│   ├── 📁 utils/                         # 🔧 UTILITY FUNCTIONS
│   │   ├── 📄 sendOtp.js                 # OTP sending logic
│   │   └── 📄 logger.js                  # Logging utilities
│   │
│   ├── 📁 uploads/                       # 📂 FILE STORAGE
│   ├── 📄 index.js                       # 🚀 Main server entry point
│   ├── 📄 package.json                   # Dependencies & scripts
│   └── 📄 .env                          # Environment variables
│
├── 📁 frontend/                          # CLIENT-SIDE APPLICATION
│   ├── 📁 public/
│   │   └── 📄 index.html
│   │
│   ├── 📁 src/
│   │   ├── 📁 admin/                     # 🔐 ADMIN INTERFACE
│   │   │   ├── 📁 assets/styles/         # 🎨 ADMIN STYLING
│   │   │   │   ├── 📄 admin.css          # General admin styles
│   │   │   │   ├── 📄 common.css         # Shared admin components
│   │   │   │   ├── 📄 dashboard.css      # Dashboard specific styles
│   │   │   │   ├── 📄 admin-booking.css  # Booking management styles
│   │   │   │   ├── 📄 field-management.css # Field management styles
│   │   │   │   ├── 📄 customer-management.css # Customer management styles
│   │   │   │   ├── 📄 inventory-management.css # Inventory management styles
│   │   │   │   └── 🆕 maintenance-management.css # ✨ MAINTENANCE STYLES
│   │   │   │
│   │   │   ├── 📁 components/            # 🧩 ADMIN COMPONENTS
│   │   │   │   ├── 📁 common/            # SHARED COMPONENTS
│   │   │   │   │   ├── 📄 ConfirmModal.jsx # Confirmation dialogs
│   │   │   │   │   ├── 📄 Pagination.jsx   # Pagination component
│   │   │   │   │   ├── 📄 LoadingSpinner.jsx # Loading states
│   │   │   │   │   └── 📄 Toast.jsx        # Toast notifications
│   │   │   │   │
│   │   │   │   ├── 📁 dashboard/         # DASHBOARD COMPONENTS
│   │   │   │   │   ├── 📄 DashboardStats.jsx # Stats cards
│   │   │   │   │   ├── 📄 RecentBookings.jsx # Recent bookings list
│   │   │   │   │   └── 📄 QuickActions.jsx   # Quick action buttons
│   │   │   │   │
│   │   │   │   ├── 📁 booking/           # BOOKING COMPONENTS
│   │   │   │   │   ├── 📄 BookingStats.jsx   # Booking statistics
│   │   │   │   │   ├── 📄 BookingFilters.jsx # Search & filters
│   │   │   │   │   ├── 📄 BookingTable.jsx   # Booking table
│   │   │   │   │   ├── 📄 BookingModal.jsx   # Create/Edit modal
│   │   │   │   │   └── 📄 BulkActions.jsx    # Bulk operations
│   │   │   │   │
│   │   │   │   ├── 📁 customer/          # CUSTOMER COMPONENTS
│   │   │   │   │   ├── 📄 CustomerStats.jsx    # Customer stats cards
│   │   │   │   │   ├── 📄 CustomerFilters.jsx  # Search & filters
│   │   │   │   │   ├── 📄 CustomerTable.jsx    # Customer table
│   │   │   │   │   ├── 📄 CustomerModal.jsx    # Create/Edit modal
│   │   │   │   │   ├── 📄 CustomerDetailModal.jsx # View details
│   │   │   │   │   └── 📄 BulkActions.jsx      # Bulk operations
│   │   │   │   │
│   │   │   │   ├── 📁 field/             # FIELD COMPONENTS
│   │   │   │   │   ├── 📄 FieldDateNavigation.jsx # Date navigation
│   │   │   │   │   ├── 📄 FieldViewControls.jsx   # View controls & filters
│   │   │   │   │   ├── 📄 FieldTimeline.jsx       # Timeline view
│   │   │   │   │   ├── 📄 FieldList.jsx           # List view
│   │   │   │   │   ├── 📄 FieldLegend.jsx         # Legend component
│   │   │   │   │   ├── 📄 BookingDetailModal.jsx  # Booking detail modal
│   │   │   │   │   └── 📄 CreateBookingModal.jsx  # Create booking modal
│   │   │   │   │
│   │   │   │   ├── 📄 AdminLayout.jsx    # ✨ UPDATED - Main admin layout + maintenance menu
│   │   │   │   ├── 📄 AdminLogin.jsx     # Admin login form
│   │   │   │   └── 📄 ProtectedAdminRoute.jsx # Route protection
│   │   │   │
│   │   │   ├── 📁 context/               # 🏪 STATE MANAGEMENT
│   │   │   │   └── 📄 AdminContext.jsx   # Admin state management
│   │   │   │
│   │   │   ├── 📁 hooks/                 # 🪝 CUSTOM HOOKS
│   │   │   │   ├── 📄 useToast.js        # Toast notification hook
│   │   │   │   ├── 📄 usePagination.js   # Pagination logic
│   │   │   │   ├── 📄 useFilters.js      # Filter state management
│   │   │   │   └── 📄 useConfirm.js      # Confirmation dialog hook
│   │   │   │
│   │   │   ├── 📁 pages/                 # 📄 ADMIN PAGES
│   │   │   │   ├── 📄 AdminDashboard.jsx # Dashboard page
│   │   │   │   ├── 📄 AdminBookingManagement.jsx # Booking management
│   │   │   │   ├── 📄 AdminFieldManagement.jsx   # Field management
│   │   │   │   ├── 📄 AdminCustomerManagement.jsx # Customer management
│   │   │   │   ├── 📄 AdminInventoryManagement.jsx # Inventory management
│   │   │   │   └── 🆕 AdminMaintenanceManagement.jsx # ✨ MAINTENANCE MANAGEMENT
│   │   │   │
│   │   │   └── 📁 services/              # 🌐 API SERVICE LAYER
│   │   │       ├── 🔄 index.js           # ✨ UPDATED - Service exports + maintenance
│   │   │       ├── 📄 baseService.js     # Base service class
│   │   │       ├── 📄 dashboardService.js # Dashboard APIs
│   │   │       ├── 📄 bookingService.js  # Booking management APIs
│   │   │       ├── 📄 customerService.js # Customer management APIs
│   │   │       ├── 📄 fieldService.js    # Field management APIs
│   │   │       ├── 📄 revenueService.js  # Revenue APIs
│   │   │       ├── 📄 inventoryService.js # Inventory APIs
│   │   │       ├── 🆕 maintenanceService.js # ✨ MAINTENANCE APIs
│   │   │       └── 📄 adminService.js    # Legacy admin APIs
│   │   │
│   │   ├── 📁 assets/                    # 👥 CUSTOMER ASSETS
│   │   │   ├── 📁 images/
│   │   │   └── 📁 styles/
│   │   │       ├── 📄 styles.css         # Customer main styles
│   │   │       └── 📄 common.css         # Shared customer styles
│   │   │
│   │   ├── 📁 components/                # 👥 CUSTOMER COMPONENTS
│   │   │   ├── 📄 Header.jsx             # Navigation header
│   │   │   ├── 📄 Footer.jsx             # Footer
│   │   │   ├── 📄 LoginModal.jsx         # OTP login modal
│   │   │   ├── 📄 BookingSearchForm.jsx  # Booking search form
│   │   │   ├── 📄 BookingModal.jsx       # Booking confirmation
│   │   │   ├── 📄 FieldCard.jsx          # Field display card
│   │   │   ├── 📄 FieldStatus.jsx        # Real-time field status
│   │   │   ├── 📄 MatchCard.jsx          # Match display card
│   │   │   ├── 📄 CreateMatchModal.jsx   # Create match modal
│   │   │   ├── 📄 ContactModal.jsx       # Contact info modal
│   │   │   ├── 📄 JoinTeamCard.jsx       # Team join card
│   │   │   ├── 📄 JoinTeamModal.jsx      # Join team modal
│   │   │   ├── 📄 Features.jsx           # Homepage features
│   │   │   └── 📄 ScrollToTop.jsx        # Auto scroll component
│   │   │
│   │   ├── 📁 pages/                     # 👥 CUSTOMER PAGES
│   │   │   ├── 📄 Home.jsx               # Landing page với hero section
│   │   │   ├── 📄 Booking.jsx            # Field booking page
│   │   │   ├── 📄 FindMatch.jsx          # Find/create matches
│   │   │   ├── 📄 JoinTeam.jsx           # Team joining page
│   │   │   ├── 📄 Contact.jsx            # Contact page với maps
│   │   │   └── 📄 UserProfile.jsx        # User profile management
│   │   │
│   │   ├── 📁 context/                   # 👥 CUSTOMER STATE
│   │   │   └── 📄 AuthContext.jsx        # Customer auth context
│   │   │
│   │   ├── 📁 services/                  # 👥 CUSTOMER SERVICES
│   │   │   ├── 📄 authService.jsx        # Customer authentication
│   │   │   ├── 📄 bookingService.jsx     # Customer booking APIs
│   │   │   ├── 📄 matchService.jsx       # Match/kèo APIs
│   │   │   └── 📄 teamJoinService.jsx    # Team join APIs
│   │   │
│   │   ├── 🔄 App.jsx                    # ✨ UPDATED - Main app + maintenance route
│   │   ├── 📄 index.jsx                  # App entry point
│   │   └── 📄 router.js                  # Route definitions
│   │
│   └── 📄 package.json                   # Frontend dependencies
│
├── 📁 database/                          # 💾 DATABASE
│   └── 📄 football_field_management.sql  # ✨ UPDATED - Database schema + maintenance type column
│
├── 📄 .gitignore                         # Git ignore rules
├── 📄 README.md                          # Project documentation
└── 📄 .env                              # Environment variables
🎯 CHỨC NĂNG ĐÃ HOÀN THIỆN
👤 User Features:

Authentication: OTP login qua phone/email
Booking System: Tìm sân trống, đặt sân với logic giá phức tạp
Match Finding: Tạo kèo, tìm kèo, tham gia đội
Team Join: Đăng tin cần người, tìm đội thiếu người
Profile Management: Cập nhật thông tin, xem thống kê
Contact: Gửi email liên hệ với Google Maps

🔧 Technical Features:

Real-time Field Status: Timeline view với overlap checking
Complex Pricing: Giá theo giờ và loại sân
Advanced Search: Filter theo nhiều tiêu chí
Responsive Design: Mobile-first, animations
Form Validation: Client & server validation
File Structure: MVC pattern, modular components

