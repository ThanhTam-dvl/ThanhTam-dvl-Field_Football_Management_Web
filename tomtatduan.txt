ğŸ“‹ TÃ“M Táº®T Dá»° ÃN WEBSITE QUáº¢N LÃ SÃ‚N BÃ“NG
ğŸ¯ Má»¤C TIÃŠU Dá»° ÃN
Website Ä‘áº·t sÃ¢n bÃ³ng vÃ  quáº£n lÃ½ sÃ¢n bÃ³ng vá»›i 2 phÃ­a:

KhÃ¡ch hÃ ng: Äáº·t sÃ¢n, tÃ¬m kÃ¨o, ghÃ©p Ä‘á»™i
Admin: Quáº£n lÃ½ sÃ¢n, duyá»‡t booking, thá»‘ng kÃª doanh thu

ğŸ›  CÃ”NG NGHá»†

Backend: Node.js + Express + MySQL
Frontend: React + Vite + CSS vanilla
Auth: OTP cho customer, Session-based cho admin
Libraries: axios, react-router-dom, nodemailer, fontawesome

ğŸ—„ï¸ DATABASE SCHEMA (MySQL)
Database: football_field_management
12 báº£ng chÃ­nh:

users - NgÆ°á»i dÃ¹ng (customer), phone_number unique, OTP auth
admins - Admin users vá»›i session-based auth, permissions JSON
admin_sessions - Session management cho admin
fields - SÃ¢n bÃ³ng (5vs5/7vs7/11vs11), price_per_hour, facilities JSON
bookings - Äáº·t sÃ¢n, cÃ³ start_time/end_time, status (pending/approved/cancelled/completed)
booking_services - Dá»‹ch vá»¥ kÃ¨m theo booking
services - Kho Ä‘á»“ uá»‘ng/thá»©c Äƒn/thiáº¿t bá»‹, cÃ³ stock
maintenance_schedules - Lá»‹ch báº£o trÃ¬ sÃ¢n
matches - KÃ¨o bÃ³ng Ä‘Ã¡, cÃ³ allow_join cho ghÃ©p Ä‘á»™i
match_participants - NgÆ°á»i tham gia kÃ¨o
team_join_posts - ÄÄƒng tin ghÃ©p Ä‘á»™i
otp_codes - MÃ£ OTP cÃ³ thá»i gian háº¿t háº¡n

ğŸ”§ BACKEND STRUCTURE (Node.js + Express)
ğŸ“ /backend

index.js - Entry point, setup CORS, routes mounting
package.json - Dependencies: express, mysql2, cors, dotenv, nodemailer

ğŸ“ /config

db.js - MySQL connection setup

ğŸ“ /controllers (Business logic)

authController.js - OTP gá»­i qua email/SMS, verify OTP, tá»± Ä‘á»™ng táº¡o user
adminAuthController.js - Admin login, session management, change password
adminController.js - Dashboard stats, booking management, user management, field management, revenue reports
bookingController.js - Táº¡o booking vá»›i logic tÃ­nh giÃ¡ phá»©c táº¡p, láº¥y booking theo user
fieldController.js - Láº¥y táº¥t cáº£ sÃ¢n, tÃ¬m sÃ¢n trá»‘ng theo thá»i gian
matchController.js - CRUD kÃ¨o, tham gia kÃ¨o, láº¥y participants
serviceController.js - Láº¥y dá»‹ch vá»¥, filter theo category
maintenanceController.js - CRUD lá»‹ch báº£o trÃ¬
userController.js - CRUD user, update profile
teamJoinController.js - CRUD tin ghÃ©p Ä‘á»™i
contactController.js - Gá»­i email liÃªn há»‡ qua nodemailer

ğŸ“ /models (Database queries)

Admin.js - Admin CRUD, session management, dashboard statistics
Field.js - Logic phá»©c táº¡p tÃ¬m sÃ¢n trá»‘ng, overlap checking
Booking.js - Insert/get bookings
Match.js - CRUD matches vá»›i filtering
MatchParticipant.js - Join/leave matches
Service.js - Get services by category
Maintenance.js - CRUD maintenance schedules
User.js - CRUD users, createIfNotExist logic
TeamJoin.js - CRUD team join posts vá»›i filtering
Otp.js - OTP verification logic

ğŸ“ /middleware

adminAuth.js - Admin authentication, permission checking, super admin verification

ğŸ“ /routes (API endpoints)

authRoutes.js - POST /send-otp, /verify-otp
adminRoutes.js - Complete admin API: auth, dashboard, bookings, users, fields, revenue
fieldRoutes.js - GET /, /available
bookingRoutes.js - POST /, GET /date, /user/:userId
matchRoutes.js - GET /, POST /, POST /join, GET /:id/participants
serviceRoutes.js - GET /, /:category
maintenanceRoutes.js - GET /, POST /, GET /field/:fieldId
userRoutes.js - GET /, /:id, PUT /:id, DELETE /:id
teamJoinRoutes.js - GET /, POST /
contactRoutes.js - POST /

âš›ï¸ FRONTEND STRUCTURE (React + Vite)
ğŸ“ /frontend

package.json - React 19, router-dom, axios, fontawesome, leaflet
index.html - Root HTML
App.jsx - Router setup vá»›i routes cho customer vÃ  admin
main.jsx - React root render vá»›i AuthProvider vÃ  AdminProvider

ğŸ“ /src/pages (Customer pages)

Home.jsx - Landing page vá»›i hero, field status timeline, features
Booking.jsx - Search form, field cards, booking modal integration
FindMatch.jsx - Danh sÃ¡ch kÃ¨o, filter, create match modal
JoinTeam.jsx - Danh sÃ¡ch tin ghÃ©p Ä‘á»™i, filter, create post modal
Contact.jsx - Contact form gá»­i email, thÃ´ng tin liÃªn há»‡, map
UserProfile.jsx - Update user info, stats, logout

ğŸ“ /src/admin/pages (Admin pages)

AdminDashboard.jsx - Dashboard vá»›i stats cards, recent bookings, quick actions
AdminFieldManagement.jsx - Quáº£n lÃ½ sÃ¢n vá»›i timeline view, manual booking, delete booking

ğŸ“ /src/admin/components (Admin components)

AdminLayout.jsx - Layout vá»›i sidebar, mobile nav, breadcrumb
AdminLogin.jsx - Admin login form vá»›i demo accounts
ProtectedAdminRoute.jsx - Route protection vá»›i permission checking

ğŸ“ /src/admin/context

AdminContext.jsx - Admin state management, session verification

ğŸ“ /src/admin/services

adminService.jsx - Dashboard, bookings, users, fields, revenue APIs
fieldService.jsx - Field management, manual booking, booking status APIs

ğŸ“ /src/components (Customer components)

Header.jsx - Navigation, login button, mobile menu, user dropdown
Footer.jsx - Footer links, contact info, social media
LoginModal.jsx - 2-step OTP login (phone â†’ OTP), timer countdown
BookingSearchForm.jsx - Complex search vá»›i validation, time logic
BookingModal.jsx - Booking confirmation vá»›i user info, payment method
FieldCard.jsx - Display field info, available slots, book button
FieldStatus.jsx - Real-time timeline view cÃ¡c sÃ¢n (available/booked/maintenance)
MatchCard.jsx - Display match info, contact, join team
CreateMatchModal.jsx - Form táº¡o kÃ¨o vá»›i validation
ContactModal.jsx - Show contact info vá»›i Zalo/call links
JoinTeamCard.jsx - Display team post, contact
JoinTeamModal.jsx - Form Ä‘Äƒng tin ghÃ©p Ä‘á»™i
Features.jsx - Feature cards cho homepage
ScrollToTop.jsx - Auto scroll on route change

ğŸ“ /src/services (Customer API calls)

api.jsx - Axios instance vá»›i base URL
authService.jsx - sendOtp(), verifyOtp()
bookingService.jsx - fetchAvailableFields(), createBooking() vá»›i complex logic
matchService.jsx - fetchMatches(), createMatch(), joinMatch()
teamJoinService.jsx - fetchTeamJoinPosts(), createTeamJoinPost()

ğŸ“ /src/context

AuthContext.jsx - Customer state management, localStorage persistence

ğŸ“ /src/assets/styles

styles.css - Customer CSS (~2000 lines): responsive, animations, modals, forms
admin.css - Admin CSS (~3000 lines): dark theme, layouts, components
field-management.css - Field management specific styles: timeline, modals
common.css - Shared styles cho customer vÃ  maintenance
dashboard-only.css - Dashboard specific styles

ğŸ¯ CHá»¨C NÄ‚NG ÄÃƒ HOÃ€N THIá»†N
ğŸ‘¤ User Features:

Authentication: OTP login qua phone/email
Booking System: TÃ¬m sÃ¢n trá»‘ng, Ä‘áº·t sÃ¢n vá»›i logic giÃ¡ phá»©c táº¡p
Match Finding: Táº¡o kÃ¨o, tÃ¬m kÃ¨o, tham gia Ä‘á»™i
Team Join: ÄÄƒng tin cáº§n ngÆ°á»i, tÃ¬m Ä‘á»™i thiáº¿u ngÆ°á»i
Profile Management: Cáº­p nháº­t thÃ´ng tin, xem thá»‘ng kÃª
Contact: Gá»­i email liÃªn há»‡ vá»›i Google Maps

ğŸ”§ Technical Features:

Real-time Field Status: Timeline view vá»›i overlap checking
Complex Pricing: GiÃ¡ theo giá» vÃ  loáº¡i sÃ¢n
Advanced Search: Filter theo nhiá»u tiÃªu chÃ­
Responsive Design: Mobile-first, animations
Form Validation: Client & server validation
File Structure: MVC pattern, modular components

âŒ CHÆ¯A CÃ“: ADMIN SYSTEM
Cáº§n implement:

Admin authentication
Dashboard vá»›i charts
CRUD management cho táº¥t cáº£ entities
Reports & analytics
Protected admin routes
Admin-specific CSS