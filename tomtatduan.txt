ğŸ“‹ TÃ“M Táº®T Dá»° ÃN WEBSITE QUáº¢N LÃ SÃ‚N BÃ“NG (SAU REFACTOR)
ğŸ¯ Má»¤C TIÃŠU Dá»° ÃN
Website Ä‘áº·t sÃ¢n bÃ³ng vÃ  quáº£n lÃ½ sÃ¢n bÃ³ng vá»›i 2 phÃ­a:

KhÃ¡ch hÃ ng: Äáº·t sÃ¢n, tÃ¬m kÃ¨o, ghÃ©p Ä‘á»™i
Admin: Quáº£n lÃ½ sÃ¢n, duyá»‡t booking, thá»‘ng kÃª doanh thu

ğŸ›  CÃ”NG NGHá»†

Backend: Node.js + Express + MySQL
Frontend: React + Vite + CSS vanilla
Auth: OTP cho customer, Session-based cho admin
Libraries: axios, react-router-dom, nodemailer, fontawesome


ğŸ—„ï¸ DATABASE SCHEMA (MySQL)
Database: football_field_management
12 báº£ng chÃ­nh:

users - NgÆ°á»i dÃ¹ng (customer), phone_number unique, OTP auth
admins - Admin users vá»›i session-based auth, permissions JSON
admin_sessions - Session management cho admin
fields - SÃ¢n bÃ³ng (5vs5/7vs7/11vs11), price_per_hour, facilities JSON
bookings - Äáº·t sÃ¢n, cÃ³ start_time/end_time, status
booking_services - Dá»‹ch vá»¥ kÃ¨m theo booking
services - Kho Ä‘á»“ uá»‘ng/thá»©c Äƒn/thiáº¿t bá»‹, cÃ³ stock
maintenance_schedules - Lá»‹ch báº£o trÃ¬ sÃ¢n
matches - KÃ¨o bÃ³ng Ä‘Ã¡, cÃ³ allow_join cho ghÃ©p Ä‘á»™i
match_participants - NgÆ°á»i tham gia kÃ¨o
team_join_posts - ÄÄƒng tin ghÃ©p Ä‘á»™i
otp_codes - MÃ£ OTP cÃ³ thá»i gian háº¿t háº¡n


ğŸ”§ BACKEND STRUCTURE (Node.js + Express) - REFACTORED
football-field-management/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js                          # MySQL connection setup
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ admin/                         # ğŸ†• ADMIN CONTROLLERS (TÃCH RA)
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardController.js     # Dashboard stats, recent bookings
â”‚   â”‚   â”‚   â”œâ”€â”€ bookingController.js       # Booking CRUD, filters, manual booking
â”‚   â”‚   â”‚   â”œâ”€â”€ customerController.js      # Customer CRUD, stats, bulk actions
â”‚   â”‚   â”‚   â”œâ”€â”€ fieldController.js         # Field CRUD, vá»›i booking timeline
â”‚   â”‚   â”‚   â””â”€â”€ revenueController.js       # Revenue reports, analytics
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ authController.js              # Customer OTP authentication
â”‚   â”‚   â”œâ”€â”€ adminAuthController.js         # Admin session management
â”‚   â”‚   â”œâ”€â”€ fieldController.js             # Customer field APIs
â”‚   â”‚   â”œâ”€â”€ bookingController.js           # Customer booking APIs
â”‚   â”‚   â”œâ”€â”€ matchController.js             # Match/kÃ¨o CRUD APIs
â”‚   â”‚   â”œâ”€â”€ serviceController.js           # Services APIs
â”‚   â”‚   â”œâ”€â”€ maintenanceController.js       # Maintenance schedules
â”‚   â”‚   â”œâ”€â”€ userController.js              # Customer user management
â”‚   â”‚   â”œâ”€â”€ teamJoinController.js          # Team join posts
â”‚   â”‚   â””â”€â”€ contactController.js           # Contact form
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Admin.js                       # Admin CRUD, sessions, dashboard stats
â”‚   â”‚   â”œâ”€â”€ Field.js                       # Field logic, availability checking
â”‚   â”‚   â”œâ”€â”€ Booking.js                     # Booking operations
â”‚   â”‚   â”œâ”€â”€ Match.js                       # Match CRUD vá»›i filtering
â”‚   â”‚   â”œâ”€â”€ MatchParticipant.js            # Join/leave matches
â”‚   â”‚   â”œâ”€â”€ Service.js                     # Services by category
â”‚   â”‚   â”œâ”€â”€ Maintenance.js                 # CRUD maintenance schedules
â”‚   â”‚   â”œâ”€â”€ User.js                        # User CRUD, createIfNotExist
â”‚   â”‚   â”œâ”€â”€ TeamJoin.js                    # Team join posts vá»›i filtering
â”‚   â”‚   â””â”€â”€ Otp.js                         # OTP verification logic
â”‚   â”‚
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ adminAuth.js                   # Admin authentication & permissions
â”‚   â”‚   â”œâ”€â”€ authMiddleware.js              # Customer authentication
â”‚   â”‚   â”œâ”€â”€ errorMiddleware.js             # Error handling
â”‚   â”‚   â””â”€â”€ validate.js                    # Input validation
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ admin/                         # ğŸ†• ADMIN ROUTES (TÃCH RA)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js                   # Main admin router
â”‚   â”‚   â”‚   â”œâ”€â”€ authRoutes.js              # Admin auth endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardRoutes.js         # Dashboard endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ bookingRoutes.js           # Booking management APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ customerRoutes.js          # Customer management APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ fieldRoutes.js             # Field management APIs
â”‚   â”‚   â”‚   â””â”€â”€ revenueRoutes.js           # Revenue reporting APIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ authRoutes.js                  # Customer authentication
â”‚   â”‚   â”œâ”€â”€ adminRoutes.js                 # ğŸ”„ Updated - points to admin/
â”‚   â”‚   â”œâ”€â”€ fieldRoutes.js                 # Customer field routes
â”‚   â”‚   â”œâ”€â”€ bookingRoutes.js               # Customer booking routes
â”‚   â”‚   â”œâ”€â”€ matchRoutes.js                 # Match/kÃ¨o routes
â”‚   â”‚   â”œâ”€â”€ serviceRoutes.js               # Services routes
â”‚   â”‚   â”œâ”€â”€ maintenanceRoutes.js           # Maintenance routes
â”‚   â”‚   â”œâ”€â”€ userRoutes.js                  # Customer user routes
â”‚   â”‚   â”œâ”€â”€ teamJoinRoutes.js              # Team join routes
â”‚   â”‚   â””â”€â”€ contactRoutes.js               # Contact routes
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ sendOtp.js                     # OTP sending logic
â”‚   â”‚   â””â”€â”€ logger.js                      # Logging utilities
â”‚   â”‚
â”‚   â”œâ”€â”€ uploads/                           # File uploads storage
â”‚   â”œâ”€â”€ index.js                           # Main server file
â”‚   â”œâ”€â”€ package.json                       # Dependencies
â”‚   â””â”€â”€ .env                              # Environment variables

âš›ï¸ FRONTEND STRUCTURE (React + Vite) - REFACTORED
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ admin/                         # ğŸ”„ ADMIN UI (REFACTORED)
â”‚   â”‚   â”‚   â”œâ”€â”€ assets/styles/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin.css              # General admin styles
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common.css             # Shared admin components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard-only.css     # Dashboard specific
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ field-management.css   # Field management specific
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ admin-booking.css      # Booking management specific
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ customer-management.css # ğŸ†• Customer management styles
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ common/                # ğŸ†• SHARED ADMIN COMPONENTS
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConfirmModal.jsx   # Confirmation dialogs
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.jsx     # Pagination component
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.jsx # Loading states
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Toast.jsx          # Toast notifications
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ customer/              # ğŸ†• CUSTOMER MANAGEMENT COMPONENTS
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerStats.jsx  # Stats cards
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerFilters.jsx # Search & filters
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerTable.jsx  # Customer table
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerModal.jsx  # Create/Edit modal
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerDetailModal.jsx # View details
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BulkActions.jsx    # Bulk operations
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ booking/               # ğŸ†• BOOKING MANAGEMENT COMPONENTS (TÃ“M Táº®T)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookingFilters.jsx # Existing filters component
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookingTable.jsx   # Existing table component
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BookingModal.jsx   # Existing modal component
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ field/                 # ğŸ†• FIELD MANAGEMENT COMPONENTS (TÃ“M Táº®T)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FieldTimeline.jsx  # Field booking timeline
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FieldModal.jsx     # Create/Edit field
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FieldStats.jsx     # Field statistics
â”‚   â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminLayout.jsx        # Main admin layout
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminLogin.jsx         # Admin login form
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ProtectedAdminRoute.jsx # Route protection
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AdminContext.jsx       # Admin state management
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/                     # ğŸ†• ADMIN HOOKS
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useToast.js           # Toast notification hook
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ usePagination.js      # Pagination logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useFilters.js         # Filter state management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useConfirm.js         # Confirmation dialog hook
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboard.jsx     # ğŸ”„ Dashboard vá»›i stats
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminBookingManagement.jsx # ğŸ”„ Booking management
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminFieldManagement.jsx # ğŸ”„ Field management
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AdminCustomerManagement.jsx # ğŸ”„ REFACTORED Customer mgmt
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ services/                  # ğŸ†• ADMIN SERVICES (TÃCH RA)
â”‚   â”‚   â”‚       â”œâ”€â”€ index.js              # Service exports
â”‚   â”‚   â”‚       â”œâ”€â”€ baseService.js        # Base service class
â”‚   â”‚   â”‚       â”œâ”€â”€ dashboardService.js   # Dashboard APIs
â”‚   â”‚   â”‚       â”œâ”€â”€ bookingService.js     # Booking management APIs
â”‚   â”‚   â”‚       â”œâ”€â”€ customerService.js    # Customer management APIs
â”‚   â”‚   â”‚       â”œâ”€â”€ fieldService.js       # Field management APIs
â”‚   â”‚   â”‚       â”œâ”€â”€ revenueService.js     # Revenue APIs
â”‚   â”‚   â”‚       â””â”€â”€ adminService.js       # ğŸ”„ Updated legacy admin APIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ assets/                        # Customer assets
â”‚   â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚   â”‚       â”œâ”€â”€ styles.css             # Customer main styles
â”‚   â”‚   â”‚       â””â”€â”€ common.css             # Shared customer styles
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/                    # Customer components
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BookingSearchForm.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BookingModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FieldCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FieldStatus.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MatchCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateMatchModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ContactModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ JoinTeamCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ JoinTeamModal.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Features.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ScrollToTop.jsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ pages/                         # Customer pages
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FindMatch.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ JoinTeam.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Contact.jsx
â”‚   â”‚   â”‚   â””â”€â”€ UserProfile.jsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â”‚   â””â”€â”€ AuthContext.jsx            # Customer auth context
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.jsx            # Customer authentication
â”‚   â”‚   â”‚   â”œâ”€â”€ bookingService.jsx         # Customer booking APIs
â”‚   â”‚   â”‚   â”œâ”€â”€ matchService.jsx           # Match/kÃ¨o APIs
â”‚   â”‚   â”‚   â””â”€â”€ teamJoinService.jsx        # Team join APIs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ App.jsx                        # Main app component
â”‚   â”‚   â”œâ”€â”€ index.jsx                      # App entry point
â”‚   â”‚   â””â”€â”€ router.js                      # Route definitions
â”‚   â”‚
â”‚   â””â”€â”€ package.json                       # Frontend dependencies

ğŸ¯ CHá»¨C NÄ‚NG ÄÃƒ HOÃ€N THIá»†N
ğŸ‘¤ User Features:

Authentication: OTP login qua phone/email
Booking System: TÃ¬m sÃ¢n trá»‘ng, Ä‘áº·t sÃ¢n vá»›i logic giÃ¡ phá»©c táº¡p
Match Finding: Táº¡o kÃ¨o, tÃ¬m kÃ¨o, tham gia Ä‘á»™i
Team Join: ÄÄƒng tin cáº§n ngÆ°á»i, tÃ¬m Ä‘á»™i thiáº¿u ngÆ°á»i
Profile Management: Cáº­p nháº­t thÃ´ng tin, xem thá»‘ng kÃª
Contact: Gá»­i email liÃªn há»‡ vá»›i Google Maps

ğŸ”§ Technical Features:

Real-time Field Status: Timeline view vá»›i overlap checking
Complex Pricing: GiÃ¡ theo giá» vÃ  loáº¡i sÃ¢n
Advanced Search: Filter theo nhiá»u tiÃªu chÃ­
Responsive Design: Mobile-first, animations
Form Validation: Client & server validation
File Structure: MVC pattern, modular components

